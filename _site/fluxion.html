<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Oreore/俺々 cocos2dxライブラリ</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="/">Oreore/俺々 cocos2dxライブラリ</a></h1>
        <p>雑多なcocos2dxユーティリティライブラリ</p>
        <p class="view"><a href="https://github.com/Giemsa/oreore">View the Project on GitHub <small>Giemsa/oreore</small></a></p>
        <ul>
          <li><a href="https://github.com/Giemsa/oreore/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/Giemsa/oreore/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/Giemsa/oreore">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p><h1 id="fluxion-cocos2dx-action-generator">Fluxion (cocos2dx Action Generator)</h1>
<p>## 概要
　Fluxionは、cocos2dxの面倒なアクション構築を簡潔に記述するためのライブラリです。</p>

<h2 id="section">使い方</h2>

<h3 id="section-1">はじめに</h3>
<p>　マクロ「USE_COCOS2DX」を有効にした状態&#8221;でoreore.h&#8221;をインクルードしてください。</p>

<pre><code>#define USE_COCOS2DX
#include "./oreore/oreore.h"
</code></pre>

<p>　名前空間はoreoreになっています。面倒なので、cppの頭で「using namespace oreore;」しておきましょう。<br />
ここから先のコードは名前空間oreoreを省略します。</p>

<h3 id="section-2">アクションの生成</h3>
<p>　基本的なアクションは「x」という名前空間に定義されています。</p>

<pre><code>Sprite *sprite = Sprite::create("hoge.png");
addChild(Sprite);

sprite-&gt;runAction(x::moveTo(1.0f, 100.0f, 100.0f));
</code></pre>

<p>　引数はcocos2dxのアクションのcreateメソッドに渡すものと同等です。moveToやmoveByのように、本来cocos2dx::Pointで渡さなければならないメソッドは、上記コードのようにfloat, floatで渡すことも出来ます。
　現在鋭意実装中のため、基本アクション以外は使用できません。その場合は、cocos2dxのアクションをそのまま利用してください。</p>

<h3 id="section-3">連続アクション</h3>
<p>　連続でアクションを実行したい場合は「&#187;」演算子を利用します。</p>

<pre><code>sprite-&gt;runAction(
    x::moveTo(1.0f, 100.0f, 100.0f) &gt;&gt;
    x::fadeOut(1.0f)
);
</code></pre>

<p>　このように記述することで、MoveToの後にFadeOutが実行されます。また、x::sやx::seqを利用することもできます。</p>

<pre><code>sprite-&gt;runAction(
    x::seq(
        x::moveTo(1.0f, 100.0f, 100.0f),
        x::fadeOut(1.0f)
    )
);
</code></pre>

<h3 id="section-4">並列アクション</h3>
<p>　同時に複数のアクションを実行したい場合は、「+」演算子を利用します。</p>

<pre><code>sprite-&gt;runAction(
    x::moveTo(1.0f, 100.0f, 100.0f) + x::fadeOut(1.0f)
);
</code></pre>

<p>　このように記述することで、MoveToと同時にFadeOutが実行されます。また、x::pやx::parを利用することもできます。</p>

<pre><code>sprite-&gt;runAction(
    x::p(
        x::moveTo(1.0f, 100.0f, 100.0f),
        x::fadeOut(1.0f)
    )
);
</code></pre>

<h3 id="ease">Ease</h3>
<p>　Easingを行う場合は、「*」演算子を利用します。</p>

<pre><code>sprite-&gt;runAction(
    x::moveTo(1.0f, 100.0f, 100.0f) * x::Ease::bounceOut()
);
</code></pre>

<p>　Easeアクションは、「x::Ease」という名前空間に定義されています。
Ease/Sine/Exp/BounceのIn/Out/InOutがが利用可能です。</p>

<pre><code>x::Ease::EaseInOut
x::Ease::ExpIn
...
</code></pre>

<h3 id="section-5">繰り返し</h3>
<p>　アクションの繰り返しを行うには、「*」演算子を利用します。</p>

<pre><code>sprite-&gt;runAction(
    (x::moveTo(1.0f, 500.0f, 500.0f) &gt;&gt; x::moveTo(1.0f, 100.0f, 100.0f)) * 5
); 　このように記述することで、移動が5回繰り返されます。
</code></pre>

<h3 id="section-6">関数呼び出し</h3>
<p>　cocos2dxにおけるCallFuncを登録するには、ラムダ関数をそのまま追加します。</p>

<pre><code>sprite-&gt;runAction(
    x::moveTo(1.0f, 100.0f, 100.0f) &gt;&gt;
    []() {
        log("complete!");
    }
);
</code></pre>

<h3 id="cocos2dx">cocos2dxのアクションを混ぜる</h3>
<p>　Fluxionでは、cocos2dxのアクションを同時に扱うことが可能です。</p>

<pre><code>sprite-&gt;runAction(
    x::moveTo(1.0f, 100.0f, 100.0f) &gt;&gt;
    MoveBy::create(1.0f, Point(100.0f, 100.0f)) // cocos2dxのアクション
);
</code></pre>

<p>　ただし、C++の仕様上cocos2dxのアクション2つをつなぐことは<strong>出来ません</strong>。</p>

<pre><code>sprite-&gt;runAction(
    MoveTo::create(1.0f, Point(100.0f, 100.0f)) &gt;&gt;
    MoveBy::create(1.0f, Point(100.0f, 100.0f)) // 両方ともcocos2dxのアクション
);
</code></pre>

<h2 id="section-7">複雑なアクション</h2>

<pre><code>sprite-&gt;runAction(
    x::moveTo(1.0f, 200.0f, 200.0f) &gt;&gt;
    x::moveBy(1.0f, -100.0f, -100.0f) + (x::fadeOut(0.5f) &gt;&gt; x::fadeIn(0.5f)) &gt;&gt;
    []() {
        log("complete!");
    }
);
</code></pre>
</p>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/Giemsa">Giemsa</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
